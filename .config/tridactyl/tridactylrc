sanitise tridactyllocal tridactylsync

bind <C-k> tabnext
bind <C-j> tabprev

bind D tabclosealltoright
bind gd tabduplicate
bind gD tabdetach

" can't get native editor to work correctly, use wasavi instead (plus it's nicer anyway in some ways)
unbind --mode=input <C-i>

colors base16-tridactyl/base16-ashes

" doesn't work :(
jsb tri.config.set("theme", document.getElementsByClassName('darkreader').length ? "base16-tridactyl/base16-ashes" : "shydactyl")

set hintchars wertyuioasdfjkl;zxcnm


" fixamo
jsb tri.excmds.setpref("privacy.resistFingerprinting.block_mozAddonManager", "true").then(tri.excmds.setpref("extensions.webextensions.restrictedDomains", '""'))

" csp clobber
jsb browser.webRequest.onHeadersReceived.addListener(tri.request.clobberCSP,{urls:["<all_urls>"],types:["main_frame"]},["blocking","responseHeaders"])

set smoothscroll true
set scrollduration 100
bind j scrollline 10
bind k scrollline -10

bind ZZ !s killall firefox


bind ;v hint -F e => e.dispatchEvent(new MouseEvent('mouseeneter', {}))
" trying to make ;v work on gitlab...
" bind ;v hint -F e => { e.dispatchEvent(new MouseEvent('mouseover', {})); e.dispatchEvent(new MouseEvent('mouseenter', {})); }


" disable all searchurls
" doesn't work anymore :(
jsb Object.keys(tri.config.get("searchurls")).reduce((prev, u) => prev.then(_ => tri.config.set("searchurls", u, null)), Promise.resolve())

" testing find
" bind / fillcmdline find
" bind ? fillcmdline find -?
" bind n findnext 1
" bind N findnext -1
" bind <Return> nohlsearch

js console.log('config source complete!')
" vim: set filetype=vim:
